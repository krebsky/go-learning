
> nft-auction-marketplace@1.0.0 test
> hardhat test

[dotenv@17.2.3] injecting env (2) from .env -- tip: ⚙️  enable debug logging with { debug: true }


  NFT Auction Marketplace
    部署和初始化
NFT 合约地址: 0x0ac22fF8A78Dd5e73866D01c6abc52b5d2F874DF
拍卖市场合约地址（代理）: 0xFbcB595923306ea343A4E72C427F849b644B951a
拍卖市场合约地址（实现）: 0x51b48084Ebe0229B053916E46631Eff428D4d6a9
      ✔ 应该正确初始化合约
NFT 合约地址: 0x323A4b17e55E1227CD1B4FC16C2A189156F400CE
拍卖市场合约地址（代理）: 0x4D7010e78a17a6c190d487497F1E8770B1c130C9
拍卖市场合约地址（实现）: 0x51b48084Ebe0229B053916E46631Eff428D4d6a9
      ✔ 应该拒绝无效的手续费率
    NFT 铸造
NFT 合约地址: 0x4753f9B8814A141843914cDA4b3684b8603Dc8cF
拍卖市场合约地址（代理）: 0xfA529cC173337119F6298Aa16c6352D00af5753a
拍卖市场合约地址（实现）: 0x51b48084Ebe0229B053916E46631Eff428D4d6a9
      ✔ 应该能够铸造 NFT
NFT 合约地址: 0xBdAA0C2955447eAf7a289B8dbECBB5b32118693a
拍卖市场合约地址（代理）: 0xC10255aa47C5B01B56897A46Da80dB147E0276a5
拍卖市场合约地址（实现）: 0x51b48084Ebe0229B053916E46631Eff428D4d6a9
      ✔ 应该能够批量铸造 NFT
    创建拍卖
NFT 合约地址: 0x944773B27bF1a955f442409928Dc1A9D9b59C3B5
拍卖市场合约地址（代理）: 0xBEec7FeA6AF3b9b444C51fd6857fB7AD1464E86A
拍卖市场合约地址（实现）: 0x51b48084Ebe0229B053916E46631Eff428D4d6a9
      ✔ 应该能够创建以太坊拍卖
NFT 合约地址: 0xD7D0ceccBfbdDb260aCF22010D749f0160057663
拍卖市场合约地址（代理）: 0xe4449989D9504D1d734204222AeB543514974C1E
拍卖市场合约地址（实现）: 0x51b48084Ebe0229B053916E46631Eff428D4d6a9
      ✔ 应该能够创建 ERC20 拍卖
NFT 合约地址: 0x6e456Fc6472785bda9b6827538529186a4eC5b65
拍卖市场合约地址（代理）: 0xaBF8a8e75011712FD0FEc3a15a2397F9d862763C
拍卖市场合约地址（实现）: 0x51b48084Ebe0229B053916E46631Eff428D4d6a9
      ✔ 应该拒绝非 NFT 所有者创建拍卖
NFT 合约地址: 0xD25C72668f82ec16E0769bB22d37B1Bc87263d3a
拍卖市场合约地址（代理）: 0x02f082e45af539A82d717261E8E0465989b4BA8f
拍卖市场合约地址（实现）: 0x51b48084Ebe0229B053916E46631Eff428D4d6a9
      ✔ 应该拒绝未授权的 NFT 创建拍卖
    出价
NFT 合约地址: 0x3Ee3851bB4Ad959E8b332E75B17dc451156355E5
拍卖市场合约地址（代理）: 0x8b57e615A1f9C97ADbF09E5F60359A8536a93489
拍卖市场合约地址（实现）: 0x51b48084Ebe0229B053916E46631Eff428D4d6a9
      ✔ 应该能够使用以太坊出价
NFT 合约地址: 0xf33821521f7CAe2Aa3645aC12F773ef8EEf019eF
拍卖市场合约地址（代理）: 0x6f65dE69976cb14a4e3B1C8098153D177eFEe2eC
拍卖市场合约地址（实现）: 0x51b48084Ebe0229B053916E46631Eff428D4d6a9
      ✔ 应该能够使用 ERC20 出价
NFT 合约地址: 0xAFa18B662B2627Dea1dDA4678A2535960197Fe5E
拍卖市场合约地址（代理）: 0x9DB6fbB164c6195EF2FB1f533eFcc52853FeA68A
拍卖市场合约地址（实现）: 0x51b48084Ebe0229B053916E46631Eff428D4d6a9
      ✔ 应该拒绝低于起拍价的出价
NFT 合约地址: 0xDea7B823b613B6a50e600685DdCC197EC8122576
拍卖市场合约地址（代理）: 0x9E6cAE4cE8b544414FE420dD16Faa11723d61D6F
拍卖市场合约地址（实现）: 0x51b48084Ebe0229B053916E46631Eff428D4d6a9
      ✔ 应该拒绝低于当前最高价的出价
NFT 合约地址: 0x72eAe79172D65Ec449b688b24dE40d81e40bDB0c
拍卖市场合约地址（代理）: 0xE7e6318635eb040e031120033aA17599Eedec02f
拍卖市场合约地址（实现）: 0x51b48084Ebe0229B053916E46631Eff428D4d6a9
      ✔ 应该退还前一个出价者的资金
NFT 合约地址: 0x81b98059446e8E90E581448A6e045A7Fccc529e6
拍卖市场合约地址（代理）: 0x1F35E816f954518D00013430247C16E2D8597D92
拍卖市场合约地址（实现）: 0x51b48084Ebe0229B053916E46631Eff428D4d6a9
      ✔ 应该计算美元价格
    结束拍卖
NFT 合约地址: 0x261388eE8818b313e009577Afa233Cb34e05147b
拍卖市场合约地址（代理）: 0x89334e3d230c1577fD705DA874B424Ebc546f0D7
拍卖市场合约地址（实现）: 0x51b48084Ebe0229B053916E46631Eff428D4d6a9
      ✔ 应该在有出价者时正确结束拍卖
NFT 合约地址: 0xfd1247684dfC7526c32Ff8577e590994F05b2aE3
拍卖市场合约地址（代理）: 0xe33B875c61c8BD60E1dAe11504970cAa61CfD88B
拍卖市场合约地址（实现）: 0x51b48084Ebe0229B053916E46631Eff428D4d6a9
      ✔ 应该在没有出价者时退还 NFT
NFT 合约地址: 0x90b958366aDbdFE13dB1dAAFdC9B5F9F83D5C7BB
拍卖市场合约地址（代理）: 0x823Bcc60FB1f545DEF7Ac4094e5894495B00EAB4
拍卖市场合约地址（实现）: 0x51b48084Ebe0229B053916E46631Eff428D4d6a9
      ✔ 应该允许卖家提前结束拍卖
    提取退款
NFT 合约地址: 0xDe49559FA3f082BbEF4C3311f0A7Aa745BD30A9f
拍卖市场合约地址（代理）: 0xeed8260f27BdbBD8e79761541C63a1D82A33518c
拍卖市场合约地址（实现）: 0x51b48084Ebe0229B053916E46631Eff428D4d6a9
      ✔ 应该能够提取退款
    合约升级（UUPS）
NFT 合约地址: 0xd6e4a788084296201E17470eA4089AC9f3B79DdF
拍卖市场合约地址（代理）: 0x24bEC77356332281f3BF759D94eE5d35483eB9FD
拍卖市场合约地址（实现）: 0x51b48084Ebe0229B053916E46631Eff428D4d6a9
      ✔ 应该能够升级合约
    管理员功能
NFT 合约地址: 0xbDe8a088c50809c808Ea93E05c74DdD694b8a1eb
拍卖市场合约地址（代理）: 0x8f3d39F08E83b9B2837196Fa5b94592F11e4A178
拍卖市场合约地址（实现）: 0x51b48084Ebe0229B053916E46631Eff428D4d6a9
      ✔ 应该允许所有者设置价格预言机
NFT 合约地址: 0x5C229a1Ea3F7993856096c606E34885B869594fF
拍卖市场合约地址（代理）: 0x4Ff09A8097C5D4f90e4AcfEf1b21637a9E71F995
拍卖市场合约地址（实现）: 0x51b48084Ebe0229B053916E46631Eff428D4d6a9
      ✔ 应该允许所有者更新手续费率
NFT 合约地址: 0xEaA5F87B33F4BdC577ae8CB15eDAa3AF49194fAf
拍卖市场合约地址（代理）: 0xB0596580cf3dE0e2d5170F066919cbbE8Fb5c418
拍卖市场合约地址（实现）: 0x51b48084Ebe0229B053916E46631Eff428D4d6a9
      ✔ 应该拒绝非所有者设置价格预言机


  22 passing (1s)

